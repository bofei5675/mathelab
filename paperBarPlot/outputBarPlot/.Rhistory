type = "category",
autoticks = FALSE,
ticks = "inside",
showline = FALSE,
zeroline = FALSE,
showticklabels = FALSE,
autorange = TRUE
),
yaxis = list(
type = "category",
ticks = "inside",
showline = FALSE,
zeroline = FALSE,
showticklabels =FALSE,
autorange = TRUE
),
shapes = list(
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = -0.05,
x1 = 0,
xref = "paper",
y0 = 0.425,
y1 = 0.425,
yref = "paper"
),
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = 0.425,
x1 = 0.425,
xref = "paper",
y0 = -0.05,
y1 = 0,
yref = "paper"
),
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = -0.05,
x1 = 0,
xref = "paper",
y0 = 0.53,
y1 = 0.53,
yref = "paper"
),
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = 0.53,
x1 = 0.53,
xref = "paper",
y0 = -0.05,
y1 = 0,
yref = "paper"
),
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = -0.05,
x1 = 0,
xref = "paper",
y0 = 0.60,
y1 = 0.60,
yref = "paper"
),
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = 0.60,
x1 = 0.60,
xref = "paper",
y0 = -0.05,
y1 = 0,
yref = "paper"
)
)
) %>%
add_annotations(x = 0.21,
y = -0.05,
text = "hmdb",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = -0.05,
y = 0.21,
text = "hmdb",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = -0.05,
y = 0.48,
text = "kegg",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = 0.48,
y = -0.05,
text = "kegg",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = -0.05,
y =  0.56,
text = "wiki",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = 0.56,
y = -0.05,
text = "wiki",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = -0.05,
y =  0.80,
text = "reac",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = 0.80,
y = -0.05,
text = "reac",
showarrow = FALSE,
xref = "paper",
yref = "paper")
p_genes
p_genes <- plot_ly(z = gene_result,
x = pathwayid,
y = pathwayid,
width = 1600,
height = 1600,
type = "heatmap") %>%
layout(title = "Genes overlap",
autosize = TRUE,
margin = list(l = 150,
r = 100,
t = 100,
b = 100),
xaxis = list(
type = "category",
autoticks = FALSE,
ticks = "inside",
showline = FALSE,
zeroline = FALSE,
showticklabels = FALSE,
autorange = TRUE
),
yaxis = list(
type = "category",
ticks = "inside",
showline = FALSE,
zeroline = FALSE,
showticklabels =FALSE,
autorange = TRUE
),
shapes = list(
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = -0.05,
x1 = 0,
xref = "paper",
y0 = 0.425,
y1 = 0.425,
yref = "paper"
),
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = 0.425,
x1 = 0.425,
xref = "paper",
y0 = -0.05,
y1 = 0,
yref = "paper"
),
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = -0.05,
x1 = 0,
xref = "paper",
y0 = 0.53,
y1 = 0.53,
yref = "paper"
),
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = 0.53,
x1 = 0.53,
xref = "paper",
y0 = -0.05,
y1 = 0,
yref = "paper"
),
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = -0.05,
x1 = 0,
xref = "paper",
y0 = 0.60,
y1 = 0.60,
yref = "paper"
),
list(
line = list(
color = "rgba(68,68,68,0.5)",
width = 1
),
type = "line",
x0 = 0.60,
x1 = 0.60,
xref = "paper",
y0 = -0.05,
y1 = 0,
yref = "paper"
)
)
) %>%
add_annotations(x = 0.21,
y = -0.05,
text = "hmdb",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = -0.05,
y = 0.21,
text = "hmdb",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = -0.05,
y = 0.48,
text = "kegg",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = 0.48,
y = -0.05,
text = "kegg",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = -0.05,
y =  0.56,
text = "wiki",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = 0.56,
y = -0.05,
text = "wiki",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = -0.05,
y =  0.80,
text = "reac",
showarrow = FALSE,
xref = "paper",
yref = "paper") %>%
add_annotations(x = 0.80,
y = -0.05,
text = "reac",
showarrow = FALSE,
xref = "paper",
yref = "paper")
p_genes
load("~/RProject/matheLab/paperBarPlot/pathwaysInEachMetabolites.RData")
con <- dbConnect(MySQL(),
dbname ="mathelabramp",
host ="localhost",
password = "Ehe131224",
username = "root")
install.packages("webshot")
webshot::install_phantomjs()
library(plotly)
View(resultHMDB)
plot.hmdb <- resultHMDB[order(resultHMDB$totpathways),]
View(plot.hmdb)
plot.hmdb <- resultHMDB[order(resultHMDB$totpathways,decreasing = F),]
plot.hmdb <- resultHMDB[order(resultHMDB$totpathways,decreasing = T),]
p_hmdb <- plot_ly(x = plot.hmdb$metabolites,
y = plot.hmdb$totpathways,
type = "bar")
p_hmdb
plot.hmdb$totpathways
p_hmdb <- plot_ly(x = plot.hmdb$metabolites,
y = plot.hmdb$totpathways,
type = "bar")
p_hmdb
View(plot.hmdb)
plot.hmdb$totpathways[1:10]
p_hmdb <- plot_ly(x = 1:length(plot.hmdb$totpathways),
y = plot.hmdb$totpathways,
type = "bar")
p_hmdb
p_hmdb <- plot_ly(x = 1:length(plot.hmdb$totpathways),
y = plot.hmdb$totpathways,
type = "bar") %>%
layout(title = "HMDB metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathway"
),
xaxis = list(
title = "Total 2508 Unique metabolites",
showTickLabel = FALSE
))
p_hmdb
p_hmdb <- plot_ly(x = 1:length(plot.hmdb$totpathways),
y = plot.hmdb$totpathways,
type = "bar") %>%
layout(title = "HMDB metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathway"
),
xaxis = list(
title = "Total 2508 unique metabolites have pathways",
showticklabels = FALSE
))
p_hmdb
plot.kegg <- resultHMDB[order(resultKEGG$totpathways,decreasing = T),]
plot.kegg <- resultKEGG[order(resultKEGG$totpathways,decreasing = T),]
p_hmdb <- plot_ly(x = 1:length(plot.kegg$totpathways),
y = plot.kegg$totpathways,
type = "bar") %>%
layout(title = "Kegg metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 3115 unique metabolites have pathways",
showTickLabel = FALSE
))
p_hmdb
p_kegg
p_kegg <- plot_ly(x = 1:length(plot.kegg$totpathways),
y = plot.kegg$totpathways,
type = "bar") %>%
layout(title = "Kegg metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 3115 unique metabolites have pathways",
showTickLabel = FALSE
))
p_kegg
p_kegg <- plot_ly(x = 1:length(plot.kegg$totpathways),
y = plot.kegg$totpathways,
type = "bar") %>%
layout(title = "Kegg metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 3115 unique metabolites have pathways",
showtickslabel = FALSE
))
p_kegg
p_kegg <- plot_ly(x = 1:length(plot.kegg$totpathways),
y = plot.kegg$totpathways,
type = "bar") %>%
layout(title = "Kegg metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 3115 unique metabolites have pathways",
showticklabels = FALSE
))
p_kegg
plot.wiki <- resultWIKI[order(resultWIKI$totpathways,decreasing = T),]
p_wiki <- plot_ly(x = 1:length(plot.wiki$totpathways),
y = plot.wiki$totpathways,
type = "bar") %>%
layout(title = "Kegg metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 1231 unique metabolites have pathways",
showticklabels = FALSE
))
p_wiki
plot.reac <- resultREAC[order(resultREAC$totpathways,decreasing = T),]
p_reac <- plot_ly(x = 1:length(plot.reac$totpathways),
y = plot.wiki$totpathways,
type = "bar") %>%
layout(title = "Kegg metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 1785 unique metabolites have pathways",
showticklabels = FALSE
))
p_reac
plot.reac <- resultREAC[order(resultREAC$totpathways,decreasing = T),]
p_reac <- plot_ly(x = 1:length(plot.reac$totpathways),
y = plot.reac$totpathways,
type = "bar") %>%
layout(title = "Kegg metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 1785 unique metabolites have pathways",
showticklabels = FALSE
))
p_reac
library(plotly)
plot.hmdb <- resultHMDB[order(resultHMDB$totpathways,decreasing = T),]
p_hmdb <- plot_ly(x = 1:length(plot.hmdb$totpathways),
y = plot.hmdb$totpathways,
type = "bar") %>%
layout(title = "HMDB metabolites vs. Pathways",
yaxis = list(
title = "Number of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 2508 unique metabolites have pathways",
showticklabels = FALSE
))
p_hmdb
plot.kegg <- resultKEGG[order(resultKEGG$totpathways,decreasing = T),]
p_kegg <- plot_ly(x = 1:length(plot.kegg$totpathways),
y = plot.kegg$totpathways,
type = "bar") %>%
layout(title = "Kegg metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 3115 unique metabolites have pathways",
showticklabels = FALSE
))
p_kegg
plot.wiki <- resultWIKI[order(resultWIKI$totpathways,decreasing = T),]
p_wiki <- plot_ly(x = 1:length(plot.wiki$totpathways),
y = plot.wiki$totpathways,
type = "bar") %>%
layout(title = "Wiki metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 1231 unique metabolites have pathways",
showticklabels = FALSE
))
p_wiki
plot.reac <- resultREAC[order(resultREAC$totpathways,decreasing = T),]
p_reac <- plot_ly(x = 1:length(plot.reac$totpathways),
y = plot.reac$totpathways,
type = "bar") %>%
layout(title = "Reac metabolites vs. Pathways",
yaxis = list(
title = "Numbers of pathways metabolites are involved in"
),
xaxis = list(
title = "Total 1785 unique metabolites have pathways",
showticklabels = FALSE
))
p_reac
export(p_hmdb,"hmdbMetabolitesPathways.png")
export(p_kegg,"keggMetabolitesPathways.png")
export(p_hmdb,"hmdbMetabolitesPathways.png")
export(p_kegg,"keggMetabolitesPathways.png")
export(p_wiki,"wikiMetabolitesPathways.png")
export(p_reac,"reacMetabolitesPathways.png")
setwd("~/RProject/matheLab/paperBarPlot/outputBarPlot")
export(p_hmdb,"hmdbMetabolitesPathways.png")
export(p_kegg,"keggMetabolitesPathways.png")
export(p_wiki,"wikiMetabolitesPathways.png")
export(p_reac,"reacMetabolitesPathways.png")
